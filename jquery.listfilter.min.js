(function(e){"use strict";var t={init:function(t){var n,r,i,s,o,u,a=this,f;e.expr[":"].icontains=function(e,t,n,r){return(e.textContent||e.innerText||jQuery(e).text()||"").toLowerCase().indexOf(n[3].toLowerCase())>=0};a.settings=e.extend({filter:null,clearlink:null,alternate:null,alternateclass:"alternate",callback:function(){}},t);a.items=a.children("div, li");if(a.settings.filter){o=a.settings.filter}else{o=e("<input></input>",{type:"text"}).prependTo(this)}if(a.settings.clearlink){r=a.settings.clearlink}else{r=e("<a>Clear</a>").insertAfter(o)}if(a.settings.alternate){a.items.filter(":odd").addClass(a.settings.alternateclass)}o.change(function(){u=o.val();a.items.hide();if(a.settings.alternate){a.items.removeClass(a.settings.alternateclass)}if(u.length<1){s=a.items}else{s=a.items.filter(":icontains("+u+")")}if(a.settings.alternate){s.filter(":odd").addClass(a.settings.alternateclass)}s.show();a.settings.callback()}).on("keyup",function(){o.change()});r.on("click",function(){o.val("").change()});return this},refresh:function(){var e=this,t,n,r;e.items=e.children("div, li");if(e.settings.alternate){e.items.removeClass(e.settings.alternateclass);n=e.settings.filter;t=n.val();if(t.length>0){r=e.items.filter(":icontains("+t+")");r.filter(":odd").addClass(e.settings.alternateclass)}else{e.items.filter(":odd").addClass(e.settings.alternateclass)}}}};e.fn.listfilter=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" not available")}}})(jQuery)
